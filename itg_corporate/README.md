# ITG Sustainability

## Init project locally
Make a *npm install* on the *itg_sustainability* root folder to perform modules install. Once done refer to package json to build your dev code through **npm run dev** (webpack watch property is enabled)
## PHP components development
1. Create new components inside **itg_sustainability/template-parts/blocks**. Use [BEM class syntax](http://getbem.com/naming/) as shown in sample.php
2. Every new block must be included inside **while** loop in **itg_sustainability/template-parts/layout.php** *Remember to stash/pull/merge frequently*
. $acf_id will be autogenerated by the actual environment (*single/archive/taxonomy/term/ecc*).
. Every block has a dynamic id with the following syntax `itg_sustainability_<?php echo $block_id; ?>` where **$block_id** is an incremental number starting from 0. 
## Bundles generation
Use **npm run dev** to compile and watch *.js and *.scss files.
Use **npm run prod** to compile as in the production env.
## Javascript assets
Components related JS, must be created inside **itg_sustainability/js/components/blocks** folder as a ***ES6 function*** and **imported** inside **itg_sustainability/js/index.js**. See **itg_sustainability/js/components/blocks/sample.js** as an example.
## CSS assets
Components related CSS, must be created inside **itg_sustainability/sass/components/blocks** folder and **imported** inside **itg_sustainability/sass/components/blocks/_blocks.scss**. See **itg_sustainability/sass/components/blocks/_sample.scss** as an example.
## Assets
Incldue your assets inside **itg_sustainability/src/images**. WebPack **CopyPlugin** will copy this folder inside **/dist** directory so *use relative directories inside scss*. For example *background-image: url(src/imags/sample.jpg)* 
## Fonts
This project use **Work Sans** *Google Font* imported as with weights: 400, 700, 800. **Find project mixins in sass/abstarcts/mixins/_mixins.scss** 
## Work with ACF and build blocks
Always refer to [Dcoumentation](https://www.advancedcustomfields.com/resources/). Remember that inside [**Group**](https://www.advancedcustomfields.com/resources/group/) and [**Repeater**](https://www.advancedcustomfields.com/resources/repeater/) fields you must use ACF syntax and not base php loop such *foreach*.
1. Create your new block in backend, inside **Campi personalizzati** menu item.
2. Include your new block inside Layout **Field Group** as a clone field, as new layout.
3. Use the **Sample** page to entry your placeholder texts, assets and to test your components. 
4. Refer to **PHP components development** to develop your code.

